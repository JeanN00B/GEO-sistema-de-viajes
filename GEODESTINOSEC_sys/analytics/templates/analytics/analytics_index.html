{% extends 'core/base.html' %}
{% load static %}

{% block title %} Analíticas {% endblock %}

{% block content %}
<h2>
    Holaaaaaa analíticas!
</h2>

<h2>
    Acá puedes ir al formulario, en esta vista se va a renderizar algunas analíticas, y los formularios guardados también
</h2>

<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded items-center justify-center">
    <a href="{% url 'analytics-filter' %}">Crear nueva analítica</a>
</button>

<h2> Filtros registrados! </h2>
<div class="mt-5 mx-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
    {% csrf_token %}
    {% for filter in filters %}
        <div class="flex flex-col justify-between border-2 bg-yellow-100 hover:bg-yellow-200 rounded-lg p-2">
            <div>
                <h3 class="text-lg font-medium text-center mb-2">{{ filter.name }}</h3>
                <p class="border-3 bg-white rounded-sm mb-4 px-2">{{ filter.description }}</p>
            </div>
            <div class="grid grid-cols-2 grid-rows-2 gap-1">
                <button class="w-full px-2 py-1 bg-green-400 hover:bg-green-600 text-white rounded-xl">
                    <a href="#">Whatsapp</a>
                </button>
                <button class="w-full px-2 py-1 bg-green-400 hover:bg-green-600 text-white rounded-xl">
                    <a href="#">Métricas</a>
                </button>
                <button class="w-full px-2 py-1 bg-blue-400 hover:bg-blue-600 text-white rounded-xl">
                    <a href="{% url 'analytics-filter-update' filter.pk %}">Modificar</a>
                </button>
                <form class="w-full" action="{% url 'analytics-filter-delete' filter.pk %}" method="DELETE">
                    {% csrf_token %}
                    <button class="w-full px-2 py-1 bg-red-400 hover:bg-red-600 text-white rounded-xl">Eliminar</button>
                </form>
            </div>        
        </div>
    {% endfor %}
</div>

{% endblock %}